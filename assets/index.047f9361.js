var j=Object.defineProperty,L=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var w=(e,l,t)=>l in e?j(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,k=(e,l)=>{for(var t in l||(l={}))N.call(l,t)&&w(e,t,l[t]);if(h)for(var t of h(l))b.call(l,t)&&w(e,t,l[t]);return e},O=(e,l)=>L(e,T(l));var C=(e,l)=>{var t={};for(var n in e)N.call(e,n)&&l.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&h)for(var n of h(e))l.indexOf(n)<0&&b.call(e,n)&&(t[n]=e[n]);return t};import{p as m,c as B,j as v,a as R,R as I,b as M}from"./vendor.ad906761.js";const D=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}};D();const x=[],P=m(e=>(e.map((t,n)=>{if(t.operator==="*"||t.operator==="/")return n}).filter(Boolean).reverse().forEach(t=>{const n=e[t-1],s=e[t];if(!!s.value){switch(s.operator){case"*":n.value=n.value*s.value;break;case"/":n.value=n.value/s.value}e.splice(t,1)}}),e)),F=e=>e.map(({operator:l,value:t=0})=>l==="-"?t*-1:t).reduce((l,t)=>l+t),p=B((e,l)=>({actions:x,result:null,getTemporaryResult:()=>{const r=l().actions,o=P(r);return F(o)},type:r=>e(m(o=>{if(o.result&&(o.result=null),!o.actions.length){o.actions.push({operator:"+",value:r});return}const f=o.actions[o.actions.length-1];f.value=f.value?parseInt(`${f.value}${r}`):r})),addOperator:r=>e(m(o=>{if(o.result!==null){const y=o.result>=0;o.actions.push({operator:y?"+":"-",value:Math.abs(o.result)}),o.result=null}if(!o.actions.length){o.actions.push({operator:r});return}const f=o.actions[o.actions.length-1];f.value!==void 0?o.actions.push({operator:r}):f.operator=r})),calculate:()=>e(m(r=>{!r.actions.length||(r.result=r.getTemporaryResult(),r.actions=x)})),backspace:()=>e(m(r=>{if(!r.actions.length)return;r.result&&(r.result=null);const o=r.actions[r.actions.length-1];if(!o.value){r.actions.length>1&&(r.actions=r.actions.slice(0,-1));return}o.value=parseInt(o.value.toString().slice(0,-1))||void 0})),reset:()=>e({actions:x,result:null})})),c=v.exports.jsx,u=v.exports.jsxs,A=v.exports.Fragment,d=n=>{var s=n,{label:e,className:l}=s,t=C(s,["label","className"]);return c("div",{className:R("flex p-0.5",l),children:c("button",O(k({},t),{className:R("p-6 flex-grow bg-gray-100"),children:e}))})},E=()=>{const e=p(t=>t.type),l=p(t=>t.backspace);return u("div",{className:"flex flex-col flex-grow w-3/4",children:[c("div",{className:"flex flex-wrap-reverse",children:[...Array(9)].map((t,n)=>c(d,{label:`${n+1}`,onClick:()=>e(n+1),className:"w-1/3"},n))}),u("div",{className:"flex justify-end",children:[c(d,{label:"<-",className:"w-1/3",onClick:l}),c(d,{label:"0",className:"w-1/3",onClick:()=>e(0)}),c(d,{label:".",className:"w-1/3"})]})]})},$=e=>{const l=p(n=>n.addOperator),t=p(n=>n.calculate);return u("div",{className:"flex flex-col w-1/4",children:[c(d,{label:"+",className:"flex-grow",onClick:()=>l("+")}),c(d,{label:"=",className:"flex-grow",onClick:t})]})},J=e=>{const l=p(n=>n.addOperator),t=p(n=>n.reset);return u("div",{className:"flex",children:[c(d,{onClick:t,label:"C",className:"w-1/3"}),c(d,{onClick:()=>l("/"),label:"/",className:"w-1/3"}),c(d,{onClick:()=>l("*"),label:"*",className:"w-1/3"}),c(d,{onClick:()=>l("-"),label:"-",className:"w-1/3"})]})};function U(){const e=p(i=>i.result),l=p(i=>i.actions),t=p(i=>i.getTemporaryResult),n=l.length>1&&l[1].value!==void 0,s=()=>c(A,{children:l.length?l.map(({operator:i,value:g},r)=>{const o=r===0,f=i==="+",S=g===void 0?null:g.toLocaleString();return u("span",{children:[o&&f?null:i,S]},r)}):null}),a=()=>c("div",{className:"text-2xl font-semibold",children:e==null?void 0:e.toLocaleString()});return u(A,{children:[u("pre",{className:"text-xs text-gray-400 whitespace-normal",children:[JSON.stringify({result:e}),c("br",{}),JSON.stringify(l)]}),u("div",{children:[c("div",{className:"flex justify-end",children:u("div",{className:"flex flex-col items-end",children:[c("div",{className:"flex",children:e!==null?c(a,{}):c(s,{})}),n?c("span",{className:"text-gray-300",children:t().toLocaleString()}):null]})}),u("div",{className:"flex flex-col",children:[c(J,{}),u("div",{className:"flex",children:[c(E,{}),c($,{})]})]})]})]})}I.render(c(M.StrictMode,{children:c(U,{})}),document.getElementById("app"));
